(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{500:function(t,a,s){"use strict";s.r(a);var e=s(29),l=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"k8s部署文档"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#k8s部署文档"}},[t._v("#")]),t._v(" K8s部署文档")]),t._v(" "),s("p",[t._v("环境准备")]),t._v(" "),s("ul",[s("li",[t._v("master : 192.168.0.35")])]),t._v(" "),s("h1",{attrs:{id:"_1-安装工具"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-安装工具"}},[t._v("#")]),t._v(" 1. 安装工具")]),t._v(" "),s("h2",{attrs:{id:"_1-2-kubectl"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-kubectl"}},[t._v("#")]),t._v(" 1.2 kubectl")]),t._v(" "),s("p",[t._v("Kubernetes 命令行工具，kubectl，使得你可以对 Kubernetes 集群运行命令。 你可以使用 kubectl 来部署应用、监测和管理集群资源以及查看日志。")]),t._v(" "),s("p",[t._v("kubectl 版本和集群版本之间的差异必须在一个小版本号内。 例如：v1.23 版本的客户端能与 v1.22、 v1.23 和 v1.24 版本的控制面通信。 用最新兼容版的 kubectl 有助于避免不可预见的问题。")]),t._v(" "),s("h3",{attrs:{id:"_1-2-1-用以下命令下载最新发行版"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-1-用以下命令下载最新发行版"}},[t._v("#")]),t._v(" 1.2.1  用以下命令下载最新发行版：")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -LO "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://dl.k8s.io/release/'),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -L -s https://dl.k8s.io/release/stable.txt"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v('/bin/linux/amd64/kubectl"')]),t._v("\n")])])]),s("blockquote",[s("p",[t._v("说明：")]),t._v(" "),s("p",[t._v("如需下载某个指定的版本，请用指定版本号替换该命令的这一部分： "),s("code",[t._v("$(curl -L -s https://dl.k8s.io/release/stable.txt)")]),t._v("。")]),t._v(" "),s("p",[t._v("例如，要在 Linux 中下载 v1.23.0 版本，请输入：")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -LO https://dl.k8s.io/release/v1.23.0/bin/linux/amd64/kubectl\n")])])]),s("p",[t._v("当前：v1.23.0")])]),t._v(" "),s("h3",{attrs:{id:"_1-2-2-验证该可执行文件-可选步骤"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-2-验证该可执行文件-可选步骤"}},[t._v("#")]),t._v(" 1.2.2 验证该可执行文件（可选步骤）")]),t._v(" "),s("p",[t._v("下载 kubectl 校验和文件：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('curl -LO "https://dl.k8s.io/$(curl -L -s https://dl.k8s.io/release/stable.txt)/bin/linux/amd64/kubectl.sha256"\n')])])]),s("p",[t._v("基于校验和文件，验证 kubectl 的可执行文件：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('echo "$(<kubectl.sha256) kubectl" | sha256sum --check\n')])])]),s("p",[t._v("验证通过时，输出为：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("kubectl: OK\n")])])]),s("p",[t._v("验证失败时，"),s("code",[t._v("sha256")]),t._v(" 将以非零值退出，并打印如下输出：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("kubectl: FAILED\nsha256sum: WARNING: "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" computed checksum did NOT match\n")])])]),s("blockquote",[s("p",[s("strong",[t._v("说明：")])]),t._v(" "),s("p",[t._v("下载的 kubectl 与校验和文件版本必须相同。")])]),t._v(" "),s("h3",{attrs:{id:"_1-2-3-安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-3-安装"}},[t._v("#")]),t._v(" 1.2.3 安装")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("sudo install -o root -g root -m 0755 kubectl /usr/local/bin/kubectl\n")])])]),s("blockquote",[s("p",[t._v("说明：")]),t._v(" "),s("p",[t._v("即使你没有目标系统的 root 权限，仍然可以将 kubectl 安装到目录 "),s("code",[t._v("~/.local/bin")]),t._v(" 中")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("chmod +x kubectl\nmkdir -p ~/.local/bin/kubectl\nmv ./kubectl ~/.local/bin/kubectl\n# 之后将 ~/.local/bin/kubectl 添加到 $PATH\n")])])])]),t._v(" "),s("h3",{attrs:{id:"_1-2-3-执行测试-以保障你安装的版本是最新的"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-3-执行测试-以保障你安装的版本是最新的"}},[t._v("#")]),t._v(" 1.2.3 执行测试，以保障你安装的版本是最新的：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("kubectl version --client\n")])])])])}),[],!1,null,null,null);a.default=l.exports}}]);